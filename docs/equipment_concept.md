# Оборудование — концепция и сущности

## 1) Назначение подсистемы оборудования

Подсистема оборудования отвечает за:
- учёт физического оборудования
- понимание доступного количества
- контроль состояния (на складе / на мероприятии / в ремонте)
- поддержку процессов выезда и возврата

Подсистема не занимается планированием мероприятий —  
она обслуживает мероприятия как источник данных о занятости.

---

## 2) Ключевые сущности

### 2.1 Тип оборудования

Тип оборудования — логическая сущность, используемая при планировании.

Примеры:
- Конвертер SDI → HDMI
- Компьютер воспроизведения
- Микрофон беспроводной

Свойства типа:
- название
- категория
- подкатегория (опционально)
- общее количество (рассчитывается)
- доступное количество (рассчитывается)

Тип оборудования:
- используется в мероприятиях
- не имеет инвентарных номеров
- не имеет QR / штрихкодов

---

### 2.2 Экземпляр оборудования

Экземпляр оборудования — физическая единица оборудования.

У экземпляра есть:
- инвентарный номер (уникальный, задаётся вручную)
- QR / штрихкод (кодирует инвентарный номер)
- статус
- связь с типом оборудования

Пример:
Инв. №100001 | на складе | [Показать QR]

---

## 3) Инвентарный номер и QR

Инвентарный номер:
- основной и единственный идентификатор
- назначается кладовщиком

QR / штрихкод:
- генерируется из инвентарного номера
- не хранится в базе как изображение
- используется для поиска, выезда/возврата и печати

Кнопка «Показать QR»:
- присутствует у каждого экземпляра
- используется для повторной печати

---

## 4) Статусы экземпляра оборудования

Минимальный набор статусов:
- на складе
- на мероприятии
- в ремонте

Статус влияет на доступное количество.

---

## 4.1 Ремонт оборудования

Отправка экземпляра в ремонт:
- выполняется кладовщиком
- обязательно требует заметку

Заметка содержит:
- причину отправки
- описание неисправности

Без заметки отправка в ремонт невозможна.

Возврат из ремонта:
- переводит экземпляр в статус «на складе»
- заметка сохраняется в истории

---

## 5) Комплектность

Некоторые типы оборудования имеют постоянный комплект.

Особенности:
- каждый элемент комплекта имеет свой инвентарный номер и QR
- комплектность — связь между экземплярами

Логика:
- сканирование основного устройства автоматически включает комплект
- возврат работает аналогично

---

## 6) Категории и подкатегории

Типы оборудования группируются по категориям.

Подкатегория:
- необязательна
- используется для навигации

Правила удаления:
- нельзя удалить категорию, если в ней есть:
  - типы оборудования
  - подкатегории
- нельзя удалить подкатегорию, если в ней есть типы оборудования

Управление категориями:
- отдельная вкладка
- доступ только кладовщику

---

## 7) Расчёт количества

Общее количество — все экземпляры типа.  
Доступное количество — экземпляры со статусом «на складе».

---

## 8) Роль кладовщика

Кладовщик:
- видит все мероприятия
- не управляет мероприятиями
- управляет складом, оборудованием, ремонтом, импортом и QR

---

## 9) Чего в системе нет

- серийных номеров
- хранения QR изображений
- планирования по экземплярам
- сложных иерархий комплектов

---

## 10) Принципы развития

1. Планирование и склад — разные уровни
2. Экземпляры важны только на выезде и возврате
3. Всё физическое должно работать быстро
4. Усложнение только по необходимости
