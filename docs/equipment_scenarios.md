# Оборудование — сценарии работы

## 1) Общий принцип сценариев

Сценарии описывают реальные рабочие процессы склада и планирования, а не UI.

---

## 2) Сценарий №1 — Добавление оборудования на склад

Участник: Кладовщик

1. Создание типа оборудования (если отсутствует)
2. Добавление экземпляров (вручную или через Excel)
3. Экземпляры получают статус «на складе»

Результат: оборудование доступно для планирования.

---

## 3) Сценарий №2 — Планирование мероприятия (Excel-выбор оборудования)

Участники: Менеджер, Старший инженер, роли с правом комплектации

### Вариант A — ручное добавление
1. Выбор типа оборудования
2. Указание количества
3. Проверка доступности и нехватки

### Вариант B — Excel-выбор

#### Кнопка «Выгрузить»
Формируется Excel-файл со столбцами:
1) Категория  
2) Подкатегория  
3) Наименование  
4) Доступно на складе  
5) Нужно  

#### Кнопка «Загрузить»
Правила импорта:
- если «Нужно» пусто или 0 → позиция игнорируется
- если «Нужно» > 0 → позиция добавляется или обновляется
- если позиция уже есть в мероприятии → количество ПЕРЕЗАПИСЫВАЕТСЯ

После загрузки:
- пересчёт нехватки
- отображение итогового состава

---

## 4) Сценарий №3 — Выезд на мероприятие (сканирование)

Участники: роли с флагом «может выполнять выезд»

1. Сканирование QR
2. Поиск экземпляра по инвентарнику
3. Проверка статуса «на складе»
4. Привязка к мероприятию
5. Статус → «на мероприятии»

Комплекты уезжают автоматически.

---

## 5) Сценарий №4 — Возврат с мероприятия

Участники: роли с флагом «может выполнять возврат»

1. Сканирование QR
2. Статус → «на складе»
3. Отсутствующие экземпляры остаются привязанными к мероприятию

---

## 6) Сценарий №5 — Отправка в ремонт

Участники: роли с флагом «может отправлять в ремонт»

1. Выбор экземпляра
2. Обязательная заметка с причиной
3. Статус → «в ремонте»

---

## 7) Сценарий №6 — Возврат из ремонта

Участники: роли с флагом «может возвращать из ремонта»

1. Завершение ремонта
2. Статус → «на складе»
3. История ремонта сохраняется
4. При выезде на мероприятие - пометка что нужно особое внимание к оборудованию

---

## 8) Сценарий №7 — Печать QR

Участники: роли с флагом «может печатать QR»

1. Кнопка «Показать QR»
2. Печать и наклейка

---

## 9) Ролевые флаги возможностей

Флаги:
- может выполнять выезд
- может выполнять возврат
- может отправлять в ремонт
- может печатать QR

Флаги управляются в настройках ролей.

---

## 10) Ошибки и проверки

- неизвестный инвентарник
- неверный статус
- отсутствие прав

Во всех случаях данные не изменяются.

---

## 11) Что сценарии не описывают

- UI-реализацию
- проверки прав (описаны отдельно)
