# UX: Связка «Мероприятие ↔ Склад»

## 1. Главный принцип

Мероприятие никогда не работает с инвентарными номерами напрямую.
Мероприятие оперирует только типами оборудования и количествами.

Склад отвечает за физический учёт и статусы единиц оборудования.

---

## 2. Планирование мероприятия

Планирование выполняется менеджером или старшим инженером.

В карточке мероприятия отображается блок «Оборудование мероприятия»:

Тип оборудования | Нужно | Доступно | Нехватка

Пользователь может:
- добавлять тип оборудования
- изменять количество
- удалять позиции
- использовать Excel-выбор оборудования

Инвентарные номера на этом этапе не используются.

---

## 3. Расчёт доступности

Поле «Доступно» рассчитывается на основе склада:
- учитываются единицы со статусом «на складе»
- не учитываются единицы «в ремонте» и «на мероприятии»

Значение всегда актуально и не редактируется вручную.

---

## 4. Влияние склада на мероприятия

При изменении состояния склада:
- доступное количество пересчитывается
- в мероприятиях обновляется информация о нехватке

Мероприятие не изменяется автоматически,
решения принимает пользователь.

---

## 5. Выезд на мероприятие

Выезд выполняется кладовщиком внутри карточки мероприятия
в отдельном режиме.

Мероприятие показывает:
- тип оборудования
- сколько нужно
- сколько выдано

Кладовщик:
- сканирует QR-код
- система проверяет тип и статус
- единица привязывается к мероприятию
- статус меняется на «на мероприятии»

---

## 6. Возврат с мероприятия

Возврат выполняется через сканирование QR-кодов.

При возврате:
- связь с мероприятием закрывается
- статус единицы меняется на «на складе»

Невозвращённые единицы остаются привязанными к мероприятию.

---

## 7. Видимость для менеджера

Менеджер видит:
- плановое количество
- фактически выдано
- нехватку
- общий статус укомплектованности

Менеджер не видит инвентарные номера
и не управляет выдачей.

---

## 8. Ремонт и мероприятия

Если единица отправляется в ремонт:
- она исключается из выданных
- в мероприятии появляется нехватка
- в ремонте сохраняется информация о последнем мероприятии

---

## 9. Ограничения

Система не выполняет:
- автоматическую замену оборудования
- автоматическое перераспределение
- выбор конкретных единиц менеджером

---

## 10. Итог

Менеджер планирует.
Склад исполняет.
Система подсвечивает проблемы, но не принимает решения за пользователя.
