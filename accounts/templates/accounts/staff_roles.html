{% extends "base.html" %}

{% block content %}
<h1>Роли</h1>

{% include "accounts/staff_base_tabs.html" %}

<div class="toolbar">
  <a class="btn" href="{% url 'staff_role_add' %}">➕ Добавить роль</a>
</div>

<table class="list-table">
  <thead>
    <tr>
      <th>Название</th>
      <th>Пользователей</th>
      <th style="width:220px;">Действия</th>
    </tr>
  </thead>
  <tbody>
    {% for r in roles %}
      <tr>
        <td>{{ r.name }}</td>
        <td>{{ r.user_count }}</td>
        <td>
          <a class="btn-secondary" href="{% url 'staff_role_edit' r.id %}">Редактировать</a>
          <a class="btn-secondary" href="{% url 'staff_role_delete' r.id %}">Удалить</a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="3">Ролей нет</td></tr>
    {% endfor %}
  </tbody>
</table>

<p style="opacity:.7; margin-top:14px;">
  Сейчас права ролей завязаны на названия: «Менеджер», «Старший инженер», «Инженер».  
  Следующим шагом сделаем гибкую настройку прав галочками.
</p>
{% endblock %}