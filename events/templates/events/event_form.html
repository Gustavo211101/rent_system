{% extends "base.html" %}

{% block content %}
<h1>{{ title }}</h1>

<form method="post" class="form">
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div style="padding:10px; border:1px solid #d33; margin-bottom:12px;">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <div class="form-grid">
        <div class="form-row">
            <label>Название</label>
            {{ form.name }}
            {{ form.name.errors }}
        </div>

        <div class="form-row">
            <label>Дата начала</label>
            {{ form.start_date }}
            {{ form.start_date.errors }}
        </div>

        <div class="form-row">
            <label>Дата окончания</label>
            {{ form.end_date }}
            {{ form.end_date.errors }}
        </div>

        <div class="form-row">
            <label>Клиент</label>
            {{ form.client }}
            {{ form.client.errors }}
        </div>

        <div class="form-row">
            <label>Локация</label>
            {{ form.location }}
            {{ form.location.errors }}
        </div>

        <div class="form-row">
            <label>Ответственный</label>
            {{ form.responsible }}
            {{ form.responsible.errors }}
        </div>

        <div class="form-row">
            <label>Старший инженер</label>
            {{ form.s_engineer }}
            {{ form.s_engineer.errors }}
        </div>

        <div class="form-row">
            <label>Инженеры (можно несколько)</label>
            {{ form.engineers }}
            {{ form.engineers.errors }}
            <div style="font-size: 12px; opacity: 0.8; margin-top: 6px;">
              Подсказка: удерживай Ctrl (Windows) / ⌘ (Mac), чтобы выбрать несколько.
            </div>
        </div>

        <div class="form-row">
            <label>Заметки</label>
            {{ form.notes }}
            {{ form.notes.errors }}
        </div>

        <div class="form-row">
            <label>Статус</label>
            {{ form.status }}
            {{ form.status.errors }}
        </div>
    </div>

    <div style="margin-top:16px;">
        <button class="btn" type="submit">Сохранить</button>
        <a class="btn-secondary" href="{% url 'calendar' %}">Отмена</a>
    </div>
</form>
{% endblock %}
