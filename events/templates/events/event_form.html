{% extends "base.html" %}

{% block content %}
<h1>{{ title }}</h1>

<form method="post" class="form">
    {% csrf_token %}

    <div class="form-grid">
        <div class="form-row">
            <label>Название</label>
            {{ form.name }}
            {{ form.name.errors }}
        </div>

        <div class="form-row">
            <label>Дата начала</label>
            {{ form.start_date }}
            {{ form.start_date.errors }}
        </div>

        <div class="form-row">
            <label>Дата окончания (если пусто — один день)</label>
            {{ form.end_date }}
            {{ form.end_date.errors }}
        </div>

        <div class="form-row">
            <label>Клиент</label>
            {{ form.client }}
            {{ form.client.errors }}
        </div>

        <div class="form-row">
            <label>Локация</label>
            {{ form.location }}
            {{ form.location.errors }}
        </div>

        <div class="form-row">
            <label>Ответственный</label>
            {{ form.responsible }}
            {{ form.responsible.errors }}
        </div>

        <div class="form-row">
            <label>Старший инженер</label>
            {{ form.senior_engineer }}
            {{ form.senior_engineer.errors }}
        </div>

        <div class="form-row" style="grid-column: 1 / -1;">
            <label>Инженеры</label>
            {{ form.engineers }}
            {{ form.engineers.errors }}
            <div class="muted" style="margin-top:6px;">
                Можно выбрать нескольких (Ctrl/⌘ + клик).
            </div>
        </div>

        {# статус сейчас в форме есть, но раньше не отображался #}
        <div class="form-row">
            <label>Статус</label>
            {{ form.status }}
            {{ form.status.errors }}
        </div>

    </div>

    <div style="margin-top:16px;">
        <button class="btn" type="submit">Сохранить</button>
        <a class="btn-secondary" href="{% url 'calendar' %}">Отмена</a>
    </div>
</form>
{% endblock %}
