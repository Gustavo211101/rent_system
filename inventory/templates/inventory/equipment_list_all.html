{% extends "base.html" %}

{% block content %}
<div class="toolbar">
  <h1 style="margin:0;">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ ‚Äî –≤–µ—Å—å —Å–ø–∏—Å–æ–∫</h1>

  <div style="display:flex; gap:10px; align-items:center;">
    <a class="btn-secondary" href="{% url 'equipment_list_categories' %}">–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</a>
    <a class="btn-secondary" href="{% url 'repair_list' %}">–†–µ–º–æ–Ω—Ç</a>
    {% if can_manage %}
      <a class="btn" href="{% url 'equipment_add' %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å</a>
    {% endif %}
  </div>
</div>

<table class="list-table">
  <thead>
    <tr>
      <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
      <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
      <th>–°–µ—Ä–∏–π–Ω—ã–π</th>
      <th>–ö–æ–ª-–≤–æ</th>
      <th>–õ–æ–∫–∞—Ü–∏—è</th>
      <th>–°–æ—Å—Ç–æ—è–Ω–∏–µ</th>
      {% if can_manage %}
        <th style="width:220px;">–î–µ–π—Å—Ç–≤–∏—è</th>
      {% endif %}
    </tr>
  </thead>
  <tbody>
    {% for eq in equipment %}
      <tr>
        <td>{{ eq.name }}</td>
        <td>{{ eq.category.name }}</td>
        <td>{{ eq.serial_number|default:"‚Äî" }}</td>
        <td>{{ eq.quantity_total }}</td>
        <td>{{ eq.location|default:"‚Äî" }}</td>
        <td>{{ eq.get_status_display }}</td>

        {% if can_manage %}
          <td>
            <a class="btn-secondary" href="{% url 'equipment_edit' eq.id %}">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <a class="btn-secondary" href="{% url 'equipment_delete' eq.id %}">üóë –£–¥–∞–ª–∏—Ç—å</a>
          </td>
        {% endif %}
      </tr>
    {% empty %}
      <tr><td colspan="7">–ü–æ–∫–∞ –Ω–µ—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}